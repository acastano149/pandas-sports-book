# Web Apps con Streamlit: Tu Primer Dashboard

Si vienes de R, probablemente amas **Shiny**. En Python, la respuesta moderna, r√°pida y amada por la comunidad es **Streamlit**.

Streamlit permite convertir scripts de datos en aplicaciones web compartibles en **minutos**, sin saber HTML, CSS o JavaScript. Solo Python puro.

> [!WARNING]
> Streamlit requiere un servidor local. El c√≥digo de este cap√≠tulo **NO se puede ejecutar aqu√≠ en el navegador**. Debes copiarlo a un archivo `.py` en tu ordenador (ej: `app.py`) y ejecutarlo en tu terminal con `streamlit run app.py`.

## 1. Hola Mundo en Streamlit

Crea un archivo llamado `app.py` y escribe esto:

```python
import streamlit as st
import pandas as pd

st.title("‚öΩ Mi Primer Dashboard de F√∫tbol")
st.write("¬°Bienvenido a mi aplicaci√≥n de an√°lisis!")

# Crear un bot√≥n
if st.button('Celebrar Gol'):
    st.balloons()
```

Para correrlo, abre tu terminal (Anaconda Prompt o VS Code Terminal) y escribe:
```bash
pip install streamlit
streamlit run app.py
```

***

## 2. Estructura de una App de An√°lisis

Vamos a construir un **Perfil de Jugador Interactivo**. La estructura t√≠pica usa la barra lateral (`st.sidebar`) para controles y el panel principal para gr√°ficos.

### Paso 1: Cargar Datos

```python
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt

# T√≠tulo
st.title("üìä Informe de Rendimiento F√≠sico")

# Cargar datos (puedes usar tu archivo local)
@st.cache_data  # ¬°Magia! Guarda los datos en cach√© para no recargar siempre
def cargar_datos():
    # Simulamos datos aqu√≠ para el ejemplo, t√∫ cargar√≠as 'data/atletas.csv'
    df = pd.DataFrame({
        'Nombre': ['Garc√≠a', 'L√≥pez', 'Mart√≠nez', 'S√°nchez'],
        'Posicion': ['Delantero', 'Medio', 'Defensa', 'Portero'],
        'Velocidad': [33, 31, 29, 25],
        'Potencia': [800, 750, 900, 600]
    })
    return df

df = cargar_datos()

# Mostrar la tabla si el usuario quiere
if st.checkbox("Mostrar Datos Crudos"):
    st.dataframe(df)
```

### Paso 2: Filtros en la Sidebar

```python
# Barra lateral
st.sidebar.header("Filtros")

# Selector de Posici√≥n
posiciones = df['Posicion'].unique()
filtro_pos = st.sidebar.multiselect("Filtrar Posici√≥n", posiciones, default=posiciones)

# Slider de Velocidad M√≠nima
min_vel = st.sidebar.slider("Velocidad M√≠nima (km/h)", 0, 35, 20)

# Aplicar filtros
df_filtrado = df[
    (df['Posicion'].isin(filtro_pos)) & 
    (df['Velocidad'] >= min_vel)
]

st.write(f"Jugadores encontrados: {len(df_filtrado)}")
```

### Paso 3: Gr√°ficos Interactivos

Streamlit funciona nativamente con Matplotlib, Plotly, Altair y m√°s.

```python
# Crear dos columnas
col1, col2 = st.columns(2)

with col1:
    st.subheader("Velocidad por Jugador")
    st.bar_chart(df_filtrado.set_index('Nombre')['Velocidad'])

with col2:
    st.subheader("Relaci√≥n Potencia-Velocidad")
    fig, ax = plt.subplots()
    ax.scatter(df_filtrado['Potencia'], df_filtrado['Velocidad'], c='red', s=100)
    ax.set_xlabel('Potencia')
    ax.set_ylabel('Velocidad')
    st.pyplot(fig)
```

***

## 3. Despliegue (Deploy)

Lo mejor de Streamlit es compartir.

1.  Sube tu c√≥digo a **GitHub**.
2.  Ve a [share.streamlit.io](https://share.streamlit.io).
3.  Conecta tu repo y ¬°listo! Tienes una URL p√∫blica (ej: `mi-app-futbol.streamlit.app`) para enviar al entrenador o publicar en LinkedIn.

***

## üèÜ Mini-Proyecto: Tu Dashboard Personal

(Para realizar en tu ordenador local)

**Objetivo:** Crear una app `scouting.py` que:
1.  Cargue el dataset `atletas.csv`.
2.  Tenga un selector en la sidebar para elegir un jugador espec√≠fico.
3.  Muestre sus m√©tricas clave (Metric Card) con `st.metric(label="VO2max", value=60)`.
4.  Muestre un gr√°fico comparando al jugador seleccionado con el promedio del equipo.

**Estructura sugerida:**

```python
# Pista
jugador_seleccionado = st.sidebar.selectbox("Elegir Jugador", df['Nombre'])
datos_jugador = df[df['Nombre'] == jugador_seleccionado].iloc[0]

col1, col2 = st.columns(2)
col1.metric("Velocidad M√°x", f"{datos_jugador['VelocidadMax_kmh']} km/h")
col2.metric("VO2max", datos_jugador['VO2max'])
```
